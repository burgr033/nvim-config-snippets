{
  "go-justfile": {
    "prefix": "go-justfile",
    "body": [
      "${5|set dotenv-load,#set dotenv-load|}",
      "BINARY_NAME := \"${1:binary}\"",
      "PACKAGE_NAME := \"${2:github.com}/${3:username}/${1}\"",
      "",
      "default: help",
      "",
      "# init the project",
      "init:",
      "\t@echo init project",
      "\tgo mod init {{PACKAGE_NAME}}",
      "\tgit init .",
      "\tmkdir -p {cmd/{{BINARY_NAME}},internal/,pkg/}",
      "",
      "# runs golangci-lint",
      "lint:",
      "\t@echo Running linter...",
      "\tgolangci-lint run || exit 1",
      "",
      "# cleans up, removes binary, exe out and html files",
      "clean:",
      "\t@echo Cleaning up...",
      "\t@rm -f *.exe coverage.out coverage.html {{BINARY_NAME}}",
      "",
      "# runs tests",
      "test:",
      "\t@echo Running tests...",
      "\tgo test -v -race -cover ./...",
      "",
      "# runs tests with test coverage enabled",
      "test-coverage:",
      "\t@echo Running tests with coverage",
      "\tgo test -v -race -coverprofile=coverage.out ./...",
      "\tgo tool cover -html=coverage.out -o coverage.html",
      "",
      "# opens up the coverage report (via xdg-open)",
      "view-test-coverage: test-coverage",
      "\t@echo Showing test coverage",
      "\t@xdg-open coverage.html &",
      "",
      "# builds the application {{BINARY_NAME}}",
      "build:",
      "\t@echo building application",
      "\tgo build -o {{BINARY_NAME}} cmd/{{BINARY_NAME}}/main.go",
      "",
      "# runs the application {{BINARY_NAME}}",
      "run: build",
      "\t./{{BINARY_NAME}}",
      "",
      "# help message",
      "help:",
      "\t@just -l",
      "$0"
    ],
    "description": "Makefile for Go projects with build, run, clean, test, and tidy commands"
  }
}
